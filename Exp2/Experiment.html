
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <!-- Required meta tags always come first -->
        
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">

    <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

        <link rel="stylesheet" href="css/jspsych.css">
        <link rel="stylesheet" href="css/pcllab-plugins.css">

    <!-- jQuery first, then Bootstrap JS. -->
        <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

        <!-- Then jsPsych -->
        <script src="jspsych.js"></script>

        <!-- Plugins -->
        <script src="plugins/pcllab-consent-form/plugin.js"></script> 
        <script src="plugins/pcllab-instructions/plugin.js"></script>
        <script src="plugins/pcllab-demographics/plugin.js"></script>
        <script src="plugins/pcllab-distractor-game/plugin.js"></script>
        <script src="plugins/pcllab-multiple-choice/plugin.js"></script>
        <script src="plugins/pcllab-short-answer/plugin.js"></script>
        <script src="plugins/pcllab-study-text/plugin.js"></script>
        <script src="plugins/pcllab-ratings-slider/plugin.js"></script>
        <script src="plugins/jspsych-call-function/plugin.js"></script>
        <script src="plugins/pcllab-no-mobile/plugin.js"></script>
        <script src="plugins/pcllab-environment-survey/plugin.js"></script>
        <script src="plugins/pcllab-debrief.js"></script>   
        <script src="plugins/jspsych-htmlTurkCode.js"></script>   


        <title>Experiment</title>
    </head>
    <body>
        <div id="experiment_container"></div>

        <script>

    var timeline = [];
    var urlVars = jsPsych.data.urlVariables();
    //var workerId = urlVars.workerId;
    var condition = Math.floor(Math.random()*4);
    var timeStamp = Math.floor(Date.now() / 1000);
    var dt = new Date();
    var utcDate = dt.toUTCString();    
    var subjNum = jsPsych.data.getURLVariable('id');

    jsPsych.data.addProperties({
        //subNum: workerId,
        subNum: subjNum,
        cond: condition,
    });
    // Check for mobile devices //noMobile has to be pushed myTimeline.push(noMobile)
    var noMobile = {
        type: 'pcllab-no-mobile',  
    };
    var consentform = {
        type: "pcllab-consent-form",
    };
    var demographics = {
        type: "pcllab-demographics",
    };

    var instructions1 = {
        type: 'pcllab-instructions',
        label: 'General'
    };

    var instructions2 = {
        type: 'pcllab-instructions',
        label: 'Study'
    };

    var instructions3 = {
        type: 'pcllab-instructions',
        label: 'Test'
    };

    var RPinstructions = {
        type: 'pcllab-instructions',
        label: 'RP'
    };
   
    var JOLinstructions = {
        type: 'pcllab-instructions',
        label: 'JOL'
    };
    var Rereadinstructions = {
        type: 'pcllab-instructions',
        label: 'Reread'
    };

    var NextText = {
        type: 'pcllab-instructions',
        label: 'NextText'
    };
    var CRTInstructions = {
        type: 'pcllab-instructions',
        label: 'CRT'
    };
    var StratInstructions = {
        type: 'pcllab-instructions',
        label: 'Strategy'
    };  
    var distract = {
      type: "pcllab-distractor-game",
      time: 1000 * 480
    };
    var environment_survey = {
        type: "pcllab-environment-survey",
    };
    var finish = {
        type: 'pcllab-debrief',
        label: 'Finish'
    };

     var debrief = {
        type: 'pcllab-debrief',
        label: 'Debrief'
    };
    var debrief_block = {
            type: 'htmlTurkCode',
            url: 'debriefing_SONA.html', 
            var_text: "<a href=https://purdue-psych.sona-systems.com/webstudy_credit.aspx?experiment_id=1200&credit_token=86a8b125fce146f39cdc9ffba05777c0&survey_code=" + subjNum + ">Please click here to return to the SONA website and receive credit for your participation.</a>"
    };


        var slide = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "<b>Please rate how confident you are that you understand the paragraph you just read by moving the slider to a value between 0 (Not very confident) and 100 (Very confident). </b>",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slide1 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> what country approximately 60% of the radioactive fallout from the Chernobyl disaster landed. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slide2 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> how scientists were able to predict that the radioactive fallout from Chernobyl would drift to the west over Europe. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slide3 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> why some people believe that the power plant operators were not to blame for the Chernobyl disaster. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slide4 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions:"Please rate how confident you are that you understand <b><u> what the purpose was of the control rods that Legasov suggested might be the cause of the Chernobyl disaster. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slide5 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> what group of people made up the majority of the initial injuries and deaths caused by the Chernobyl disaster. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slide6 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> how many total deaths can be attributed to the nuclear meltdown at Chernobyl. </u></b>  Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slide7 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> what happened to Yuri Bandazhevsky after he questioned the official estimates of Chernobylâ€™s consequences. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slide8 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> why activists think there was a need for a state-sponsored relocation program for people living in the areas affected by the Chernobyl disaster. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slide9 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> what sea borders the lagoon surrounding the city of Venice. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slide10 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> what the total population of Venice is. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slide11 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> what group of people are thought to have founded Venice. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slide12 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> why Venice was the target of frequent invasions between 500 and 800 A.D. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slide13 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> what empire traded with Western Europe causing Venice to flourish between the 9th and 12th centuries. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slide14 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> how the leading families of Venice helped the city become a cultural leader by the 13th century. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slide15 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> what type of material do the foundations of the buildings of Venice sit on. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slide16 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> what was determined to be the cause of Venice sinking. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideTP1 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> that the country where approximately 60% of the radioactive fallout from the Chernobyl disaster landed in was Belarus. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideTP2 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> that scientists were able to predict that the radioactive fallout from Chernobyl would drift to the west over Europe by studying wind patterns. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideTP3 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> that some people believe power plant operators were not to blame for the Chernobyl disaster because they were not informed about problems with the nuclear reactor. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideTP4 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions:"Please rate how confident you are that you understand <b><u> that the control rods that Legasov suggested might be the cause of the Chernobyl disaster were supposed to be a safety mechanism. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideTP5 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> that emergency response workers made up the majority of the initial injuries and deaths caused by the Chernobyl disaster. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideTP6 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> that 41 total deaths can be attributed to the nuclear meltdown at Chernobyl. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideTP7 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> that Yuri Bandazhevsky was imprisoned after he questioned the official estimates of Chernobylâ€™s consequences. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideTP8 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> that activists thought there was a need for a state-sponsored relocation program for people living in the areas affected by the Chernobyl disaster because many were too poor to relocate elsewhere. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideTP9 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> that the Adriatic Sea borders the lagoon surrounding the city of Venice. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideTP10 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> that the total population of Venice is around 270 thousand people. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideTP11 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> that Roman refugees are thought to have founded Venice. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideTP12 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> that Venice was the target of frequent invasions between 500 and 800 A.D. because the water surrounding the city offered protection from enemies and trade access. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideTP13 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> that the Bysantine Empire's trade with Western Europe caused Venice to flourish between the 9th and 12th centuries. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideTP14 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> that the leading families of Venice helped the city become a cultural leader by the 13th century by supporting the work of talented artists. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideTP15 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> that the foundations of the buildings of Venice sit on wood. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideTP16 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how confident you are that you understand <b><u> that the cause of Venice sinking was the extraction of water from artesian wells disrupting the sediment below the houses. </u></b> Rate your confidence by moving the slider to a value between 0 (Not very confident) and 100 (Very confident).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };
        var slideF1 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how familiar you were with the <b><u> Chernobyl Disaster text </u></b> you read today before this experiment by moving the slider to a value between 0 (Not very familiar) and 100 (Very familiar).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };

        var slideF2 = {
        type: 'pcllab-ratings-slider',
        label_left: "<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0%</b>",
        label_right: "<b>100%</b>",
        instructions: "Please rate how familiar you were with the <b><u> Venice text </u></b> you read today before this experiment by moving the slider to a value between 0 (Not very familiar) and 100 (Very familiar).",
        button_text: "Continue",
        display_value: true,
        hot_and_cold_slider: true
    };

//Chernobyl Disaster Part 1
    var text1 = {
        type: 'pcllab-study-text',
        minimum_time: 1000 * 30,
        auto_advance: true,
        label: "label1" 
    };
//Chernobyl Disaster Part 2
     var text2 = {
        type: 'pcllab-study-text',
        minimum_time: 1000 * 30,
        auto_advance: true,
        label: "label2" 
    };
//Chernobyl Disaster Part 3
     var text3 = {
        type: 'pcllab-study-text',
        minimum_time: 1000 * 30,
        auto_advance: true,
        label: "label3"     
    };
//Chernobyl Disaster Part 4
     var text4 = {
        type: 'pcllab-study-text',
        minimum_time: 1000 * 30,
        auto_advance: true,
        label: "label4"     
    };
//Venice Part 1
     var text5 = {
        type: 'pcllab-study-text',
        minimum_time: 1000 * 30,
        auto_advance: true,
        label: "label5"
    };
//Venice Part 2
     var text6 = {
        type: 'pcllab-study-text',
        minimum_time: 1000 * 30,
        auto_advance: true,
        label: "label6"
    };
//Venice Part 3
     var text7 = {
        type: 'pcllab-study-text',
        minimum_time: 1000 * 30,
        auto_advance: true,
        label: "label7"
    };
//Venice Part 4
     var text8 = {
        type: 'pcllab-study-text',
        minimum_time: 1000 * 30,
        auto_advance: true,
        label: "label8"     
    };
//TestQs
     var MC1 = {
        type: 'pcllab-multiple-choice',
        minimum_time: 0,///1000 * 5,
        stimulus: "Estimates claim approximately 60% of the radioactive fallout from the Chernobyl disaster landed in what country?",
        options: ["A: Poland", "B: Ukraine", "C: Belarus", "D: Latvia", "E: Sweden"],
        multiple_choices: false,
        required: true,        
    }; 

    var MC2 = {
        type: 'pcllab-multiple-choice',
        minimum_time: 0,//1000 * 5,
        stimulus: "Why do some people believe that the power plant operators are not to blame for the Chernobyl disaster?",
        options: ["A: They were never informed about problems with the nuclear reactor", "B: They were not properly trained by the government", "C: They were understaffed and overworked", "D: They were aware of the problems but powerless to avert the disaster", "E: They informed their superiors, but did not receive instructions back until too late"],
        multiple_choices: false,
        required: true,        
    }; 

    var MC3 = {
        type: 'pcllab-multiple-choice',
        minimum_time: 0,//1000 * 5,
        stimulus: "What group of people made up the majority of the initial injuries and deaths caused by the Chernobyl disaster?",
        options: ["A: Operational safety personnel", "B: Emergency response workers", "C: Plant maintenance workers", "D: Local residents", "E: Nuclear reactor control staff"],
        multiple_choices: false,
        required: true,        
    }; 

    var MC4 = {
        type: 'pcllab-multiple-choice',
        minimum_time: 0,//1000 * 5,
        stimulus: "What happened to Yuri Bandazhevsky after he questioned the official estimates of Chernobylâ€™s consequences?",
        options: ["A: He was discredited by the government", "B: He was murdered", "C: He was forced into exile", "D: He disappeared mysteriously", "E: He was imprisoned"],
        multiple_choices: false,
        required: true,        
    }; 

    var MC5 = {
        type: 'pcllab-multiple-choice',
        minimum_time: 0,//1000 * 5,
        stimulus: "How were scientists able to predict that the radioactive fallout from Chernobyl would drift to the west over Europe?",
        options: ["A: By tracking the locations of people who reported fallout-related illness", "B: By studying wind patterns", "C: By building computer models of how nuclear fallout moves", "D: Because the nuclear reactor had been built closer to Europe than Central Russia", "E: By researching the outcomes of previous nuclear accidents"],
        multiple_choices: false,
        required: true,        
    }; 

    var MC6 = {
        type: 'pcllab-multiple-choice',
        minimum_time: 0,//1000 * 5,
        stimulus: "What was the purpose of the control rods that Legasov suggested might be the cause of the Chernobyl disaster?",
        options: ["A: The control rods were a power source", "B: The control rods were an emergency warning system", "C: The control rods were a safety mechanism", "D: The control rods were a firing mechanism", "E: The control rods were a physical support system"],
        multiple_choices: false,
        required: true,        
    }; 

    var MC7 = {
        type: 'pcllab-multiple-choice',
        minimum_time: 0,//1000 * 5,
        stimulus: "How many total deaths can be attributed to the nuclear meltdown at Chernobyl?",
        options: ["A: 41", "B: 5", "C: 13", "D: 28", "E: 74"],
        multiple_choices: false,
        required: true,        
    }; 

    var MC8 = {
        type: 'pcllab-multiple-choice',
        minimum_time: 0,//1000 * 5,
        stimulus: "Why did activists think there was a need for a state-sponsored relocation program for people living in the areas affected by the Chernobyl disaster?",
        options: ["A: Because the state government refused to admit any fault in the disaster", "B: Because the activists failed to raise funds through private donors", "C: Because the people would not voluntarily leave their traditional lands", "D: Because many of the people were too poor to resettle elsewhere", "E: Because such a program would look good to the rest of the world"],
        multiple_choices: false,
        required: true,        
    }; 

    var MC9 = {
        type: 'pcllab-multiple-choice',
        minimum_time: 0,//1000 * 5,
        stimulus: "What sea does the lagoon surrounding the city of Venice border?",
        options: ["A: The Black Sea", "B: The Aegean Sea", "C: The Sargasso Sea", "D: The Baltic Sea", "E: The Adriatic Sea"],
        multiple_choices: false,
        required: true,        
    }; 

    var MC10 = {
        type: 'pcllab-multiple-choice',
        minimum_time: 0,//1000 * 5,
        stimulus: "What group of people are thought to have founded Venice?",
        options: ["A: Nomadic Visagoths", "B: Roman refugees", "C: Greek mariners", "D: Lombard warriors", "E: Milanese traders"],
        multiple_choices: false,
        required: true,        
    }; 

    var MC11 = {
        type: 'pcllab-multiple-choice',
        minimum_time: 0,//1000 * 5,
        stimulus: "What empire traded with Western Europe causing Venice to flourish between the 9th and 12th centuries?",
        options: ["A: The Hittite Empire", "B: The Byzantine Empire", "C: The Ottoman Empire", "D: The Sassanian Empire", "E: The Frankish Empire"],
        multiple_choices: false,
        required: true,        
    }; 

    var MC12 = {
        type: 'pcllab-multiple-choice',
        minimum_time: 0,//1000 * 5,
        stimulus: "What type of material do the foundations of the buildings of Venice sit on?",
        options: ["A: Wood", "B: Clay", "C: Shale", "D: Limestone", "E: Sand"],
        multiple_choices: false,
        required: true,        
    }; 

    var MC13 = {
        type: 'pcllab-multiple-choice',
        minimum_time: 0,//1000 * 5,
        stimulus: "What is the total population of Venice?",
        options: ["A: 530,000 people", "B: 160,000 people", "C: 350,000 people", "D: 420,000 people", "E: 270,000 people"],
        multiple_choices: false,
        required: true,        
    }; 

    var MC14 = {
        type: 'pcllab-multiple-choice',
        minimum_time: 0,//1000 * 5,
        stimulus: "Why was Venice the target of frequent invasions between 500 and 800 A.D.?",
        options: ["A: Because the city was located on the trade route between Rome and Constantinople", "B: Because the area was rich in mineral resources, such as gold", "C: Because the water surrounding the city offered protection from enemies and trade access", "D: Because the lagoon provided a ready source of food and water", "E: Because the leaders of Venice constantly provoked neighboring tribes"],
        multiple_choices: false,
        required: true,        
    }; 

    var MC15 = {
        type: 'pcllab-multiple-choice',
        minimum_time: 0,//1000 * 5,
        stimulus: "How did the leading families of Venice help the city become a cultural leader by the 13th century?",
        options: ["A: Because they required their armies to bring back pieces of art from wars", "B: Because they supported the work of the most talented artists", "C: Because they increased trade with foreign lands and brought back priceless artistic treasures", "D: Because they enslaved the best artists of any land they captured", "E: Because they helped to establish a city-state with unprescented freedom of expression"],
        multiple_choices: false,
        required: true,        
    }; 

    var MC16 = {
        type: 'pcllab-multiple-choice',
        minimum_time: 0,//1000 * 5,
        stimulus: "What was determined to be the cause of Venice sinking?",
        options: ["A: Pollution from modern buildings and machines was changing the ecosystem in the lagoon", "B: The loss of water from below houses due to a gradual lowering of the sea level", "C: The foundations of the buildings  were crumbling after centuries of exposure to water", "D: The extraction of water from artesian wells disrupting the sediment below the houses", "E: A rise in sea level led to a sharp influx of salt water in the lagoon, harming the delicate foundations"],
        multiple_choices: false,
        required: true,        
    }; 


//Cognitive Reflection Test
    var CRT1 = {
        type: 'pcllab-short-answer',
        minimum_time: 1000 * 5,
        show_I_dont_know: false,
        show_progress: false,
        show_word_bank: false,
        show_answer: false, 
        label: "label25"
    }; 

     var CRT2 = {
        type: 'pcllab-short-answer',
        minimum_time: 1000 * 5,
        show_I_dont_know: false,
        show_progress: false,
        show_word_bank: false,
        show_answer: false, 
        label: "label26"
    }; 

    var CRT3 = {
        type: 'pcllab-short-answer',
        minimum_time: 1000 * 5,
        show_I_dont_know: false,
        show_progress: false,
        show_word_bank: false,
        show_answer: false, 
        label: "label27"
    }; 

    var CRT4 = {
        type: 'pcllab-short-answer',
        minimum_time: 1000 * 5,
        show_I_dont_know: false,
        show_progress: false,
        show_word_bank: false,
        show_answer: false, 
        label: "label28"
    }; 

    var CRT5 = {
        type: 'pcllab-short-answer',
        minimum_time: 1000 * 5,
        show_I_dont_know: false,
        show_progress: false,
        show_word_bank: false,
        show_answer: false, 
        label: "label29"
    }; 
      // This needs to be called somewhere on your timeline before the save_data_block.
//   var save_function = {
//     type: 'call-function',
//     timing_post_trial: 0,
//     func: function saveMySQL(data){
//      var data_table = "Delayed_Self_Scoring"; // change this for different experiments
//      $.ajax({
//         type:'post',
//         cache: false,
//         url: 'savedata.php', // change this to point to your php file.
//         // opt_data is to add additional values to every row, like a subject ID
//         // replace 'key' with the column name, and 'value' with the value.
//         data: {
//             table: data_table,
//             json: JSON.stringify(data),
//             // opt_data: {key: value}
//         },
//         success: function(output) { console.log(output); } // write the result to javascript console
//      });
//   };
// };
  // Any additional data you need to add to the file can go here.
    jsPsych.data.addProperties({
        subNum: subjNum,
        cond: condition,
        timeStamp: utcDate,
        experiment: 'MetacompTS_Exp2',
        //gradeNum: gradeNum,
        //weekNum: weekNum,
        //sortingCond: sortingCond,
        //textCond: textCond
    });

function saveMySQL(data){
   var data_table = "MetacompTS_MC"; // change this for different experiments
   $.ajax({
      type:'post',
      cache: false,
      url: 'savedata.php', // change this to point to your php file.
      // opt_data is to add additional values to every row, like a subject ID
      // replace 'key' with the column name, and 'value' with the value.
      data: {
          table: data_table,
          json: JSON.stringify(data),
          // opt_data: {key: value}
      },
      success: function(output) { console.log(output); } // write the result to javascript console
   });
}

  // Add this to your timeline after the exit survey, but before the debriefing.
var fileName = "TestData.csv";

var save_data_block = {
  type: 'call-function',
  timing_post_trial: 0,
  func: function(){
    jsPsych.data.addProperties({completed: true}); 
    //jsPsych.data.localSave(fileName,'csv');
    //saveCSV("filename.csv", jsPsych.data.dataAsCSV())
    saveMySQL(jsPsych.data.getData()) //Need to edit table name in function.
    // jsPsych.data.displayData();
  }
};

 //

       if (condition == '3') {  ////TS Target Absent JOLs: C then V

        timeline.push(noMobile, demographics, instructions1, instructions2, text1, slide1, slide2, text2, slide3, slide4, text3, slide5, slide6, text4, slide7, slide8, NextText, text5, slide9, slide10, text6, slide11, slide12, text7, slide13, slide14, text8, slide15, slide16, CRTInstructions, CRT1, CRT2, CRT3, instructions3, MC9, MC13, MC3, MC7, MC1, MC6, MC15, MC4, MC12, MC5, MC8, MC11, MC10, MC2, MC14, MC16, slideF1, slideF2, environment_survey, save_data_block, debrief);

      //

        } else if (condition == '2') {   ////TS Target Absent JOLs: V then C
      
        timeline.push(noMobile, demographics, instructions1, instructions2, text5, slide9, slide10, text6, slide11, slide12, text7, slide13, slide14, text8, slide15, slide16, NextText, text1, slide1, slide2, text2, slide3, slide4, text3, slide5, slide6, text4, slide7, slide8, CRTInstructions, CRT1, CRT2, CRT3, instructions3, MC9, MC13, MC3, MC7, MC1, MC6, MC15, MC4, MC12, MC5, MC8, MC11, MC10, MC2, MC14, MC16, slideF1, slideF2, environment_survey, save_data_block, debrief);

      //

          } else if (condition == '1') {    ////TS Target Present JOLs: C then V
      
        timeline.push(noMobile, demographics, instructions1, instructions2, text1, slideTP1, slideTP2, text2, slideTP3, slideTP4, text3, slideTP5, slideTP6, text4, slideTP7, slideTP8, NextText, text5, slideTP9, slideTP10, text6, slideTP11, slideTP12, text7, slideTP13, slideTP14, text8, slideTP15, slideTP16, CRTInstructions, CRT1, CRT2, CRT3, instructions3, MC9, MC13, MC3, MC7, MC1, MC6, MC15, MC4, MC12, MC5, MC8, MC11, MC10, MC2, MC14, MC16, slideF1, slideF2, environment_survey, save_data_block, debrief);

      //
              } else if (condition == '0') {    ////TS Target Present JOLs: V then C
      
        timeline.push(noMobile, demographics, instructions1, instructions2, text5, slideTP9, slideTP10, text6, slideTP11, slideTP12, text7, slideTP13, slideTP14, text8, slideTP15, slideTP16, NextText, text1, slideTP1, slideTP2, text2, slideTP3, slideTP4, text3, slideTP5, slideTP6, text4, slideTP7, slideTP8, CRTInstructions, CRT1, CRT2, CRT3, instructions3, MC9, MC13, MC3, MC7, MC1, MC6, MC15, MC4, MC12, MC5, MC8, MC11, MC10, MC2, MC14, MC16, slideF1, slideF2, environment_survey, save_data_block, debrief);

      //

      }

            jsPsych.init({
                display_element: $("div#experiment_container"),
                timeline: timeline,
                on_finish: function () {
                    jsPsych.data.displayData();
                }
            })
        </script>
    

</body></html>
